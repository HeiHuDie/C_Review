# C语言复习笔记

## ex1
### 在你的文本编辑器中打开ex1文件，随机修改或删除一部分，之后运行它看看发生了什么。  
Q：如果删去的部分导致语法错误，它会报错，并指出出错地点。如果删去后不存在语法错误则可以正常编译，但是运行时无法得到预期结果。  

### 再多打印5行文本或者其它比"Hello world."更复杂的东西。
Q：![](图片1.png)

### 执行man 3 puts来阅读这个函数和其它函数的文档。
Q：
fputc() writes the character c, cast to  an  unsigned char, to stream.  

fputs()  writes  the  string s to stream, without its terminating null byte ('\0').  

putc() is equivalent to fputc() except that it may be implemented  as  a  macro which evaluates stream more than once.  

putchar(c) is equivalent to putc(c, stdout).

puts() writes the string s and a trailing newline  to stdout.  

## ex2
### man make:  
1. -B，--always-make:  
    可以强制 make 命令在任何情况下都重新构建所有指定的目标

2. -C <`dir-name`>:  
    在make前，改变文件夹，多个 -C 则从左至右解析

3. -d:  
    使用 -d 选项可以获取有关 make 命令决策如何工作的详细信息。它提供了对 make 命令内部操作的深入了解，包括目标依赖关系、文件时间戳比较、隐含规则的选择和应用等。

4. --debug[=FLAGS]:  
    该选项用于在正常处理过程中打印调试信息。如果省略 FLAGS，则行为与使用 -d 选项相同。FLAGS 参数可以是以下之一：
    ```
    a：用于输出所有调试信息，等同于使用 -d。
    b：用于基本调试输出。
    v：用于更详细的基本调试输出。
    i：用于显示隐含规则。
    j：用于显示命令的详细调用信息。
    m：用于在重新制作 makefile 时进行调试。
    ```

5. -e，--environment-overrides:  
    该选项用于使来自环境变量的变量优先于 makefile 中的变量。当使用 make 命令执行构建时，您可以在命令行上设置变量，也可以在 makefile 文件中定义变量。默认情况下，如果环境变量和 makefile 都定义了同一个变量，make 命令将优先使用 makefile 中定义的值。  

6. -f `<file-name>`，--file=`<file-name>`，--makefile=`<file-name>`:  
    该选项用于指定要使用的 makefile 文件。默认情况下，make 命令会在当前目录中寻找名为 Makefile 或 makefile 的文件，并将其用作 makefile。但是，通过使用 -f 选项，您可以指定不同的文件作为 makefile，而不必使用默认的文件名。

7. -i，--ignore-errors:  
    该选项用于忽略重新构建文件时执行的所有命令中的错误。在 makefile 中，每个目标通常都有一组命令，用于生成或更新该目标文件。如果这些命令中的任何一个失败（即返回非零退出代码），make 命令将停止执行，并显示错误消息。这是 make 的默认行为，以确保构建的准确性和完整性。  

8. -I `<dir-name>`，--include-dir=`<dir-name>`:  
    该选项用于指定要在其中搜索包含的 makefile 的目录。当使用 makefile 进行构建时，可以使用 include 命令将其他 makefile 文件包含到当前 makefile 中。这些被包含的 makefile 可能位于不同的目录中。
    通过使用 -I 选项，您可以告诉 make 命令在指定的目录中搜索被包含的 makefile。如果多次使用 -I 来指定多个目录，make 命令将按照指定的顺序搜索这些目录。  

9. -j[jobs]，--jobs[=jobs]:
    该选项用于指定同时运行的作业的数量。

10. --jobserver-fds [R,W]:
    该选项是make 内部使用的选项，用于将作业服务器管道的读取和写入文件描述符号传递给子 make。

11. -k，--keep-going:
    该选项用于在错误发生后尽可能继续执行。  
    在 makefile 中，每个目标通常都有一组命令，用于生成或更新该目标文件。如果其中一个命令失败（即返回非零退出代码），make 命令将停止执行，并显示错误消息。这是默认行为，以确保构建的准确性和完整性。  
    然而，通过使用 -k 选项，您可以告诉 make 命令在遇到错误时尽可能地继续执行。具体来说，当某个目标及其依赖项无法重新生成时，make 命令将跳过这些目标，但会继续处理其他依赖于它们的目标。  

12. -l [load]，--load-average[=load]:   
    该选项用于指定在运行其他作业且系统负载平均值至少为给定值时，不应启动新的作业（命令）。如果没有参数，则会删除之前的负载限制。  

13. -L，--check-symlink-times:  
    该选项用于在比较符号链接和目标的最新修改时间时使用最新的 mtime（修改时间）。

14. -n，--just-print，--dry-run，--recon:  
    该选项用于打印将要执行的命令，但不实际执行它们（除非在某些情况下）。请注意，尽管 make 命令不会实际执行命令，但它仍会检查依赖关系并确定哪些目标需要重新构建。这意味着即使不执行命令，make 命令也会显示与构建相关的信息。  

15. -o file，--old-file=file，--assume-old=file:  
    该选项用于指定一个文件，即使该文件比它的依赖项旧，也不会重新生成它，并且不会因为该文件的更改而重新生成任何其他文件。这样，make 命令将把该文件视为非常旧，并忽略其相关的规则。  

16. -O[type]，--output-sync[=type]:  
    该选项用于在使用 -j 并行运行多个作业时，确保每个作业的输出被集中在一起，而不是与其他作业的输出交错。可以通过指定类型来控制输出同步的方式。  
    以下是 -O 选项的不同类型及其说明：  
    1. 如果未指定类型或类型为 target，则每个目标的整个配方的输出将被集中在一起。也就是说，所有属于同一个目标的作业的输出将按顺序打印，然后才会打印下一个目标的输出。  
    2. 如果类型为 line，则每个配方中每条命令行的输出将被集中在一起。也就是说，作业执行每个命令行时的输出将按顺序打印，然后再执行下一个命令行的作业，并打印其输出。  
    3. 如果类型为 recurse，则递归 make 的整个输出将被集中在一起。也就是说，在执行递归 make 的过程中生成的任何子 make 的输出都会按顺序打印。  
    4. 如果类型为 none，则禁用输出同步。这意味着并行作业的输出将根据其完成时间随机交错显示。  

17. -p，--print-data-base:  
    该选项用于打印从读取 makefile 后生成的数据（规则和变量值）数据库，然后按照通常方式执行或根据其他指定执行。这还会打印由 -v 选项给出的版本信息（见下文）。要打印数据数据库而不尝试重新生成任何文件，请使用 make -p -f/dev/null 命令。

18. -q，--question:  
    该选项用于启用“问题模式”。在问题模式下，make 命令不会执行任何命令或打印任何内容，而只会返回一个退出状态。如果指定的目标已经是最新的，则退出状态为零；否则为非零。  

19. -r，--no-builtin-rules:  
    该选项用于禁用内置的隐含规则。它还会清除后缀规则的默认后缀列表。在 make 中，有一组内置的隐含规则，用于根据文件的扩展名生成目标。例如，如果存在一个名为 foo.c 的文件并且没有明确的规则指定如何生成 foo.o，make 命令将使用内置的隐含规则来自动推导生成 foo.o 的命令。  

20. -R，--no-builtin-variables:  
    该选项用于禁用所有内置的变量定义。在 make 中，有一组内置的变量，用于存储有关构建过程的信息或配置。例如，CC 变量指定 C 编译器的名称，CFLAGS 变量包含传递给编译器的编译选项，LDLIBS 变量指定链接时需要的库等等。  

21. -s，--silent，--quiet:  
    该选项用于使 make 命令在执行时不打印命令。在默认情况下，make 命令会在执行每个规则的命令时打印该命令。这对于在终端上查看构建过程中的详细信息很有用，但对于大型项目或自动化流程可能会产生大量的输出。通过使用 -s、--silent 或 --quiet 选项，您可以禁止 make 命令打印命令。当您运行带有这些选项的 make 命令时，它将在执行规则的命令时保持沉默，只显示与构建进程相关的关键信息和警告。

22. -t，--touch:  
    该选项用于触摸文件（标记为最新状态而不实际更改它们），而不是运行其命令。这用于假装命令已经执行，以欺骗将来的 make 命令。

23. --trace:  
    该选项用于打印有关每个目标的处理情况的信息，包括为什么需要重新构建目标以及为重新构建它而运行的命令。  

24. -v，--version:  
    该 选项用于打印 make 程序的版本信息，包括版权声明、作者列表以及没有任何保证的通知。  

25. -w，--print-directory:  
    该选项用于在其他处理过程之前和之后打印一个包含工作目录的信息。这对于跟踪复杂嵌套的递归 make 命令中的错误可能很有用。默认情况下，make 命令会在执行构建过程时显示正在执行的命令，但不会显示当前的工作目录。通过使用 -w 或 --print-directory 选项，您可以获得更详细的构建信息，包括当前的工作目录。  

26. --no-print-directory:  
    该选项用于关闭 -w（--print-directory）选项的输出，即使它被隐式地打开也是如此。  

27. -W file，--what-if=file，--new-file=file，--assume-new=file:  
    这些选项用于假装目标文件刚刚被修改。当与 -n 标志一起使用时，它显示了如果您修改了该文件会发生什么。没有 -n，它几乎和在运行 make 命令之前执行 touch 命令一样，只是在 make 的想象中更改了修改时间。默认情况下，make 命令会根据目标及其依赖项的修改时间来判断是否需要重新构建目标。通过使用上述选项之一，并指定一个文件作为参数，您可以告诉 make 命令假装该文件已经被修改，从而影响重新构建过程。  

28. --warn-undefined-variables:  
    这选项用于在引用未定义的变量时发出警告。默认情况下，make 命令允许在规则中引用未定义的变量，并将其视为一个空字符串。这可能导致潜在的错误，尤其是当您意图使用特定值的变量但却忘记定义它时。  

### man cc
-Wall 是一个编译器选项，用于启用关于构造方式的所有警告。这些构造方式被一些用户认为是有问题的，即使在宏的使用中也很容易避免（或修改以避免警告）。此选项还启用了一些特定于语言的警告，这些警告在 "C++ Dialect Options" 和 "Objective-C and Objective-C++ Dialect Options" 中有描述。  

-g 是一个编译器选项，用于在操作系统的本机格式（stabs、COFF、XCOFF 或 DWARF）中生成调试信息。GDB（GNU Debugger）可以使用这些调试信息进行调试。

使用 -g 编译器选项时，在生成的可执行文件中会包含与调试相关的信息，如变量名、函数名和行号等。这些信息可以帮助调试器（如 GDB）在运行时跟踪和分析程序的执行。

在大多数使用 stabs 格式的系统上，-g 选项还可以启用额外的调试信息，只有 GDB 能够使用；这些额外的信息可以使 GDB 在调试时更有效，但可能会导致其他调试器崩溃或拒绝读取程序。如果您想要控制是否生成额外的调试信息，可以使用 -gstabs+、-gstabs、-gxcoff+、-gxcoff 或 -gvms 选项。  

以下是一些常见的 -g 选项的示例：  
1. -g: 生成默认格式的调试信息（通常为 DWARF）。
2. -gstabs: 使用 stabs 格式的调试信息，包括额外的调试信息。
3. -gxcoff: 使用 XCOFF 格式的调试信息，包括额外的调试信息。  

## ex3
### man 3 printf
%d		整形输出 int类型  
%md  	总共输出m列，左对齐，输出整数多余m位则全要，不足的以空格补充  
%0md 	总共输出m列，左对齐，输出整数多余m位则全要，不足的以 0 补充  
%-md  	总共输出m列，右对齐，输出整数多余m位则全要，不足的以空格补充  
%-0md  	总共输出m列，右对齐，输出整数多余m位则全要，不足的以空格补充  
%ld     长整型输出  对应 long int 类型  
%lld    长长整型输出 对应  long long int 类型  
%u		以十进制数输出无符号整型，注意！因为只打印无符号数，所以范围和有符号数不同哟。  
%o 		以八进制数形式进行打印整数  
%x		以十六进制数形式进行打印整数 a~f   
%X		以十六进制数形式进行打印整数 A~F  
%f  	打印浮点数 默认保留六位小数 对应 float 类型  
%lf 	打印双精度浮点数，默认六位小数 对应double 类型  
%.nf	输出精度为n的浮点数  
%m.nf	输出共占m列，其中精度为小数点后面n位，数值位数小于m左端补充空格  
%-m.nf 	输出共占m列，其中精度为小数点后面n位，数值位数小于m右端补充空格   
注：小数点也算位数，n位大于小数位 后面补充领，小于小数位数，进行四舍五入  
%e		以指数形式打印浮点数，小数点后面保留6位  
%E		以指数形式打印浮点数，小数点后面保留6位  
%g		根据数值不同自动选择%f或者%e  
%G		根据数值不同自动选择%f或者%E  
%c 		用来输出一个字符  
%s 		用来输出一个字符串  
%ms 	输出的字符共占m位，字符串数大于m则全部输出字符串，字符串位数小于m则左补空格  
%-ms 	输出的字符共占m位，字符串数大于m则全部输出字符串，字符串位数小于m则右补空格  
%m.n 	输出的字符串总共占m位，但只取字符串左端n个字符，这n个字符靠右放置，左边补空格。如果不设置n，则n等于0。  
%-m.n 	输出的字符串总共占m位，但只取字符串左端n个字符，这n个字符靠左放置，右边补空格。如果不设置n，则n等于0。  


